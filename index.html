 <!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Fixed ‚Äî Open The Letter</title>
<style>
  :root{
    --bg:#fff3f6;
    --env:#ff6b81;
    --env2:#ff8a9b;
    --paper:#fff;
  }
  *{box-sizing:border-box}
  body{
    margin:0;
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    background:var(--bg);
    font-family:system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
  }

  /* center area */
  .scene{
    width:260px;
    text-align:center;
  }

  /* envelope wrapper provides perspective for 3D flip */
  .envelope {
    width:220px;
    height:140px;
    margin:0 auto;
    position:relative;
    cursor:pointer;
    border-radius:10px;
    /* perspective on parent so children 3D transforms look natural */
    perspective:900px;
  }

  /* body of the envelope */
  .box {
    width:100%;
    height:100%;
    background:linear-gradient(180deg,var(--env),var(--env2));
    border-radius:10px;
    box-shadow:0 6px 18px rgba(0,0,0,0.14);
    position:relative;
    overflow:visible;
  }

  /* flap is a triangle made with clip-path; it will rotate around its top edge */
  .flap{
    position:absolute;
    left:0;
    top:0;
    width:100%;
    height:88px;
    background:linear-gradient(135deg,var(--env2),var(--env));
    /* make the triangle shape */
    clip-path: polygon(50% 0%, 100% 100%, 0% 100%);
    transform-origin: 50% 0%; /* hinge at top center */
    transition: transform 0.6s cubic-bezier(.22,.8,.3,1);
    z-index:4;
    /* important for correct 3D appearance */
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
  }

  /* the letter inside */
  .letter {
    position:absolute;
    left:12px;
    right:12px;
    top:18px;
    height:104px;
    background:var(--paper);
    border-radius:6px;
    box-shadow:0 3px 10px rgba(0,0,0,0.08);
    padding:12px;
    color:#333;
    transform: translateY(110%);
    transition: transform 0.5s cubic-bezier(.22,.8,.3,1), opacity 0.3s;
    z-index:2;
    overflow:auto;
    font-size:14px;
    line-height:1.3;
  }

  .title{
    margin:10px 0 12px 0;
    font-weight:700;
    color: #ff6b81;
  }

  /* when envelope has .open, rotate flap upwards (negative rotateX) so it lifts up */
  .envelope.open .flap{
    transform: rotateX(-180deg);
  }

  /* slide letter up a little so it's visible */
  .envelope.open .letter{
    transform: translateY(6px);
  }

  /* hearts */
  .heart {
    position:fixed;
    font-size:20px;
    pointer-events:none;
    animation: float 1400ms linear forwards;
  }
  @keyframes float{
    from { opacity:1; transform: translateY(0) scale(1); }
    to   { opacity:0; transform: translateY(-110px) scale(0.9); }
  }

  /* small hint text */
  .hint { font-size:13px; color:#7a6b6b; margin-top:12px }
  @media (max-width:420px){
    .scene{ width:86vw }
    .letter{ font-size:13px }
  }
</style>
</head>
<body>
  <div class="scene">
    <div class="envelope" id="env">
      <div class="box">
        <div class="flap" id="flap"></div>
        <div class="letter" id="letter">
          <div class="title">boiii</div>
          <div id="confessText">imissyouchatmonaakopls</div>
        </div>
      </div>
    </div>
    <div class="hint">Click / Tap the envelope to open</div>
  </div>

<script>
  const env = document.getElementById('env');

  env.addEventListener('click', () => {
    const opened = env.classList.toggle('open');
    if(opened) releaseHearts();
  });

  function releaseHearts(){
    const colors = ['üíñ','üíó','üíò','üíï','üíù'];
    for(let i=0;i<12;i++){
      setTimeout(()=>{
        const h = document.createElement('div');
        h.className = 'heart';
        h.textContent = colors[Math.floor(Math.random()*colors.length)];
        // random starting x near envelope
        const rect = env.getBoundingClientRect();
        const x = rect.left + rect.width * (0.2 + Math.random()*0.6);
        h.style.left = (x) + 'px';
        h.style.top = (rect.bottom - 8) + 'px';
        document.body.appendChild(h);
        setTimeout(()=>h.remove(), 1600);
      }, i*110);
    }
  }
</script>
</body>
</html>
